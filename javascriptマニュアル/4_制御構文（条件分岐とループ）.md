# 4. 制御構文（条件分岐とループ）

この章では、プログラムの流れを制御する「条件分岐」と「ループ」について学びます。これらを理解することで、様々な処理を実現できるようになります。

---

## 目次

### 条件分岐
- [制御構文（条件分岐）](#制御構文条件分岐)
- [条件分岐とは](#条件分岐とは)
- [if文](#if文)
- [if, else if, else 文](#if-else-if-else-文)
- [if文と論理演算子](#if文と論理演算子)
- [真偽の判断](#真偽の判断)
- [if文の条件式](#if文の条件式)
- [switch文](#switch文)
- [三項演算子](#三項演算子)

### ループ処理
- [制御構文（ループ）](#制御構文ループ)
- [繰り返し処理とは](#繰り返し処理とは)
- [ループの基本 for文](#ループの基本-for文)
- [配列とfor文](#配列とfor文)
- [while文](#while文)
- [continue](#continue)
- [break](#break)

- [まとめ](#まとめ)
- [演習問題](#演習問題)

---

## 制御構文（条件分岐）

### 制御構文とは
制御構文は、プログラムの実行順序を制御するための構文です。条件によって処理を分岐させたり、同じ処理を繰り返したりできます。

### 条件分岐の基本
条件分岐は、「もし〜なら、こうする」という判断を行う構文です。

---

## 条件分岐とは

### 条件分岐の概念
条件分岐は、**条件に応じて処理を分ける**機能です。

### 日常生活での例
- **もし雨が降っていたら** → 傘を持っていく
- **もしお腹が空いていたら** → ご飯を食べる
- **もし時間があれば** → 本を読む

### プログラミングでの例
```javascript
const age = 20;

if (age >= 20) {
    console.log('成人です');
} else {
    console.log('未成年です');
}
```

### 条件分岐の種類
1. **if文**: 基本的な条件分岐
2. **if-else文**: 条件が真でない場合の処理
3. **if-else if-else文**: 複数の条件を判定
4. **switch文**: 値による分岐
5. **三項演算子**: 簡潔な条件分岐

### 実践例: 条件分岐の基本概念

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>条件分岐とは</title>
</head>
<body>
    <h1>条件分岐の基本概念</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // 基本的な条件分岐の例
        results.push('<h2>条件分岐の例</h2>');
        
        // 例1: 年齢による判定
        const age = 25;
        if (age >= 20) {
            results.push(`<p>年齢${age}歳: 成人です</p>`);
        } else {
            results.push(`<p>年齢${age}歳: 未成年です</p>`);
        }
        
        // 例2: 天気による行動
        const weather = '雨';
        if (weather === '雨') {
            results.push(`<p>天気が${weather}なので、傘を持っていきます</p>`);
        } else {
            results.push(`<p>天気が${weather}なので、傘は不要です</p>`);
        }
        
        // 例3: 点数による評価
        const score = 85;
        if (score >= 90) {
            results.push(`<p>点数${score}点: 優秀です</p>`);
        } else if (score >= 70) {
            results.push(`<p>点数${score}点: 良好です</p>`);
        } else {
            results.push(`<p>点数${score}点: 要努力です</p>`);
        }
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== 条件分岐の基本 ===');
        console.log('条件に応じて処理を分けることができます');
    </script>
</body>
</html>
```

---

## if文

`if文`は、最も基本的な条件分岐です。

### if文の基本構文

```javascript
if (条件) {
    // 条件が真（true）の場合に実行される処理
}
```

### 基本的な使い方

```javascript
const age = 20;

if (age >= 20) {
    console.log('成人です');
}
```

### 実践例: if文の基本

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>if文</title>
</head>
<body>
    <h1>if文の基本</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // 基本的なif文
        results.push('<h2>基本的なif文</h2>');
        
        const temperature = 25;
        if (temperature > 20) {
            results.push(`<p>気温${temperature}度: 暖かいです</p>`);
        }
        
        const score = 85;
        if (score >= 80) {
            results.push(`<p>点数${score}点: 合格です</p>`);
        }
        
        const isRaining = true;
        if (isRaining) {
            results.push('<p>雨が降っているので、傘を持っていきます</p>');
        }
        
        // 条件が偽の場合（何も実行されない）
        const age = 15;
        if (age >= 20) {
            results.push(`<p>年齢${age}歳: 成人です</p>`);
        }
        // 条件が偽なので、この処理は実行されない
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== if文の基本 ===');
        console.log('条件が真の場合のみ処理が実行されます');
    </script>
</body>
</html>
```

---

## if, else if, else 文

複数の条件を判定するには、`else if`と`else`を使います。

### if-else文の構文

```javascript
if (条件1) {
    // 条件1が真の場合
} else {
    // 条件1が偽の場合
}
```

### if-else if-else文の構文

```javascript
if (条件1) {
    // 条件1が真の場合
} else if (条件2) {
    // 条件1が偽で、条件2が真の場合
} else if (条件3) {
    // 条件1と条件2が偽で、条件3が真の場合
} else {
    // すべての条件が偽の場合
}
```

### 基本的な使い方

```javascript
const age = 25;

if (age >= 20) {
    console.log('成人です');
} else {
    console.log('未成年です');
}
```

### 複数条件の例

```javascript
const score = 85;

if (score >= 90) {
    console.log('優秀');
} else if (score >= 70) {
    console.log('良好');
} else if (score >= 60) {
    console.log('可');
} else {
    console.log('不可');
}
```

### 実践例: if-else if-else文

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>if-else if-else文</title>
</head>
<body>
    <h1>if-else if-else文</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // if-else文の例
        results.push('<h2>if-else文</h2>');
        
        const age = 25;
        if (age >= 20) {
            results.push(`<p>年齢${age}歳: 成人です</p>`);
        } else {
            results.push(`<p>年齢${age}歳: 未成年です</p>`);
        }
        
        // if-else if-else文の例
        results.push('<h2>if-else if-else文</h2>');
        
        const score = 85;
        if (score >= 90) {
            results.push(`<p>点数${score}点: 優秀です</p>`);
        } else if (score >= 70) {
            results.push(`<p>点数${score}点: 良好です</p>`);
        } else if (score >= 60) {
            results.push(`<p>点数${score}点: 可です</p>`);
        } else {
            results.push(`<p>点数${score}点: 不可です</p>`);
        }
        
        // 実践例: 温度による判定
        results.push('<h2>実践例: 温度による判定</h2>');
        
        const temperature = 15;
        if (temperature >= 25) {
            results.push(`<p>気温${temperature}度: 暑いです</p>`);
        } else if (temperature >= 15) {
            results.push(`<p>気温${temperature}度: 快適です</p>`);
        } else if (temperature >= 5) {
            results.push(`<p>気温${temperature}度: 少し寒いです</p>`);
        } else {
            results.push(`<p>気温${temperature}度: 寒いです</p>`);
        }
        
        // 実践例: 時間による挨拶
        results.push('<h2>実践例: 時間による挨拶</h2>');
        
        const hour = 14;
        if (hour >= 5 && hour < 12) {
            results.push(`<p>${hour}時: おはようございます</p>`);
        } else if (hour >= 12 && hour < 18) {
            results.push(`<p>${hour}時: こんにちは</p>`);
        } else {
            results.push(`<p>${hour}時: こんばんは</p>`);
        }
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== if-else if-else文 ===');
        console.log('複数の条件を順番に判定できます');
    </script>
</body>
</html>
```

---

## if文と論理演算子

`if文`では、論理演算子（`&&`, `||`, `!`）を使って複雑な条件を表現できます。

### AND演算子（&&）の使用

```javascript
const age = 25;
const hasLicense = true;

if (age >= 20 && hasLicense) {
    console.log('運転できます');
}
```

### OR演算子（||）の使用

```javascript
const isWeekend = false;
const isHoliday = true;

if (isWeekend || isHoliday) {
    console.log('休日です');
}
```

### NOT演算子（!）の使用

```javascript
const isLoggedIn = false;

if (!isLoggedIn) {
    console.log('ログインしてください');
}
```

### 複数の論理演算子の組み合わせ

```javascript
const age = 25;
const hasLicense = true;
const hasCar = false;

if ((age >= 20 && hasLicense) || hasCar) {
    console.log('車を使えます');
}
```

### 実践例: if文と論理演算子

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>if文と論理演算子</title>
</head>
<body>
    <h1>if文と論理演算子</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // AND演算子（&&）の例
        results.push('<h2>AND演算子（&&）</h2>');
        
        const age = 25;
        const hasLicense = true;
        
        if (age >= 20 && hasLicense) {
            results.push('<p>✓ 年齢と免許の両方の条件を満たすので、運転できます</p>');
        }
        
        // OR演算子（||）の例
        results.push('<h2>OR演算子（||）</h2>');
        
        const isWeekend = false;
        const isHoliday = true;
        
        if (isWeekend || isHoliday) {
            results.push('<p>✓ 週末または祝日のどちらかなので、休日です</p>');
        }
        
        // NOT演算子（!）の例
        results.push('<h2>NOT演算子（!）</h2>');
        
        const isLoggedIn = false;
        
        if (!isLoggedIn) {
            results.push('<p>✓ ログインしていないので、ログインしてください</p>');
        }
        
        // 複数の論理演算子の組み合わせ
        results.push('<h2>複数の論理演算子の組み合わせ</h2>');
        
        const userAge = 25;
        const hasDrivingLicense = true;
        const hasOwnCar = false;
        
        if ((userAge >= 20 && hasDrivingLicense) || hasOwnCar) {
            results.push('<p>✓ 運転できます（年齢と免許の両方、または車を持っている）</p>');
        }
        
        // 実践例: 入場条件
        results.push('<h2>実践例: 入場条件</h2>');
        
        const visitorAge = 18;
        const hasTicket = true;
        const isVip = false;
        
        if ((visitorAge >= 18 && hasTicket) || isVip) {
            results.push('<p>✓ 入場できます（18歳以上でチケットを持っている、またはVIP）</p>');
        } else {
            results.push('<p>✗ 入場できません</p>');
        }
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== if文と論理演算子 ===');
        console.log('複雑な条件を表現できます');
    </script>
</body>
</html>
```

---

## 真偽の判断

条件分岐では、値が「真（true）」か「偽（false）」かを判断します。

### 真偽値の判断

```javascript
if (true) {
    console.log('実行される');
}

if (false) {
    console.log('実行されない');
}
```

### falsyな値（偽と評価される値）

以下の値は、条件式で`false`として評価されます：

- `false`
- `0`
- `''`（空文字列）
- `null`
- `undefined`
- `NaN`

```javascript
if (0) {
    console.log('実行されない');
}

if ('') {
    console.log('実行されない');
}

if (null) {
    console.log('実行されない');
}
```

### truthyな値（真と評価される値）

上記以外の値は、すべて`true`として評価されます。

```javascript
if (1) {
    console.log('実行される');
}

if ('文字列') {
    console.log('実行される');
}

if ([]) {
    console.log('実行される（空配列も真）');
}

if ({}) {
    console.log('実行される（空オブジェクトも真）');
}
```

### 実践例: 真偽の判断

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>真偽の判断</title>
</head>
<body>
    <h1>真偽の判断</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // falsyな値の例
        results.push('<h2>falsyな値（偽と評価される）</h2>');
        
        const falsyValues = [false, 0, '', null, undefined, NaN];
        falsyValues.forEach(value => {
            if (value) {
                results.push(`<p>${value}: 真</p>`);
            } else {
                results.push(`<p>${value}: 偽</p>`);
            }
        });
        
        // truthyな値の例
        results.push('<h2>truthyな値（真と評価される）</h2>');
        
        const truthyValues = [1, -1, '文字列', [], {}, function() {}];
        truthyValues.forEach(value => {
            if (value) {
                results.push(`<p>${typeof value === 'function' ? 'function' : JSON.stringify(value)}: 真</p>`);
            } else {
                results.push(`<p>${value}: 偽</p>`);
            }
        });
        
        // 実践例: 値の存在チェック
        results.push('<h2>実践例: 値の存在チェック</h2>');
        
        function checkValue(value) {
            if (value) {
                return '値が存在します';
            } else {
                return '値が存在しません（falsy）';
            }
        }
        
        results.push(`<p>checkValue('文字'): ${checkValue('文字')}</p>`);
        results.push(`<p>checkValue(''): ${checkValue('')}</p>`);
        results.push(`<p>checkValue(0): ${checkValue(0)}</p>`);
        results.push(`<p>checkValue(1): ${checkValue(1)}</p>`);
        results.push(`<p>checkValue(null): ${checkValue(null)}</p>`);
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== 真偽の判断 ===');
        console.log('falsyな値:', false, 0, '', null, undefined, NaN);
        console.log('truthyな値:', 1, '文字', [], {});
    </script>
</body>
</html>
```

---

## if文の条件式

`if文`の条件式には、様々な式を書くことができます。

### 比較演算子を使った条件式

```javascript
const age = 25;

if (age >= 20) {
    console.log('成人');
}

if (age === 25) {
    console.log('25歳です');
}

if (age !== 30) {
    console.log('30歳ではありません');
}
```

### 論理演算子を使った条件式

```javascript
const age = 25;
const hasLicense = true;

if (age >= 20 && hasLicense) {
    console.log('運転できます');
}
```

### 関数呼び出しを使った条件式

```javascript
function isAdult(age) {
    return age >= 20;
}

if (isAdult(25)) {
    console.log('成人です');
}
```

### 変数を使った条件式

```javascript
const isLoggedIn = true;

if (isLoggedIn) {
    console.log('ログイン中');
}
```

### 実践例: if文の条件式

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>if文の条件式</title>
</head>
<body>
    <h1>if文の条件式</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // 比較演算子を使った条件式
        results.push('<h2>比較演算子を使った条件式</h2>');
        
        const age = 25;
        if (age >= 20) {
            results.push(`<p>年齢${age}歳: 成人です（>= 20）</p>`);
        }
        
        if (age === 25) {
            results.push(`<p>年齢${age}歳: 25歳です（=== 25）</p>`);
        }
        
        if (age !== 30) {
            results.push(`<p>年齢${age}歳: 30歳ではありません（!== 30）</p>`);
        }
        
        // 論理演算子を使った条件式
        results.push('<h2>論理演算子を使った条件式</h2>');
        
        const userAge = 25;
        const hasLicense = true;
        
        if (userAge >= 20 && hasLicense) {
            results.push('<p>✓ 運転できます（年齢と免許の両方）</p>');
        }
        
        // 関数呼び出しを使った条件式
        results.push('<h2>関数呼び出しを使った条件式</h2>');
        
        function isAdult(age) {
            return age >= 20;
        }
        
        function hasValidLicense(hasLicense) {
            return hasLicense === true;
        }
        
        if (isAdult(25) && hasValidLicense(true)) {
            results.push('<p>✓ 関数を使った条件判定: 運転できます</p>');
        }
        
        // 変数を使った条件式
        results.push('<h2>変数を使った条件式</h2>');
        
        const isLoggedIn = true;
        const isActive = false;
        
        if (isLoggedIn) {
            results.push('<p>✓ ログイン中です</p>');
        }
        
        if (!isActive) {
            results.push('<p>✓ 非アクティブです</p>');
        }
        
        // 複雑な条件式
        results.push('<h2>複雑な条件式</h2>');
        
        const score = 85;
        const attendance = 90;
        
        if (score >= 80 && attendance >= 80) {
            results.push('<p>✓ 成績と出席率の両方が基準を満たしています</p>');
        } else if (score >= 80 || attendance >= 80) {
            results.push('<p>△ 成績または出席率のどちらかが基準を満たしています</p>');
        } else {
            results.push('<p>✗ 基準を満たしていません</p>');
        }
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== if文の条件式 ===');
        console.log('様々な式を条件として使えます');
    </script>
</body>
</html>
```

---

## switch文

`switch文`は、値によって処理を分岐させる構文です。複数の`if-else if`を簡潔に書けます。

### switch文の基本構文

```javascript
switch (値) {
    case 値1:
        // 値が値1の場合の処理
        break;
    case 値2:
        // 値が値2の場合の処理
        break;
    default:
        // どの値にも一致しない場合の処理
}
```

### 基本的な使い方

```javascript
const day = '月曜日';

switch (day) {
    case '月曜日':
        console.log('月曜日です');
        break;
    case '火曜日':
        console.log('火曜日です');
        break;
    default:
        console.log('その他の曜日です');
}
```

### break文の重要性

`break`を忘れると、次の`case`も実行されてしまいます（フォールスルー）。

```javascript
const day = '月曜日';

switch (day) {
    case '月曜日':
        console.log('月曜日です');
        // breakがないと、次のcaseも実行される
    case '火曜日':
        console.log('火曜日です');
        break;
}
// 結果: 「月曜日です」「火曜日です」の両方が表示される
```

### 実践例: switch文

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>switch文</title>
</head>
<body>
    <h1>switch文</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // 基本的なswitch文
        results.push('<h2>基本的なswitch文</h2>');
        
        const day = '月曜日';
        switch (day) {
            case '月曜日':
                results.push(`<p>${day}: 月曜日です</p>`);
                break;
            case '火曜日':
                results.push(`<p>${day}: 火曜日です</p>`);
                break;
            case '水曜日':
                results.push(`<p>${day}: 水曜日です</p>`);
                break;
            default:
                results.push(`<p>${day}: その他の曜日です</p>`);
        }
        
        // 数値による分岐
        results.push('<h2>数値による分岐</h2>');
        
        const grade = 2;
        switch (grade) {
            case 1:
                results.push(`<p>${grade}年生: 1年生です</p>`);
                break;
            case 2:
                results.push(`<p>${grade}年生: 2年生です</p>`);
                break;
            case 3:
                results.push(`<p>${grade}年生: 3年生です</p>`);
                break;
            default:
                results.push(`<p>${grade}年生: その他の学年です</p>`);
        }
        
        // 実践例: 評価の判定
        results.push('<h2>実践例: 評価の判定</h2>');
        
        const score = 85;
        let gradeLetter;
        
        switch (true) {
            case score >= 90:
                gradeLetter = 'A';
                break;
            case score >= 80:
                gradeLetter = 'B';
                break;
            case score >= 70:
                gradeLetter = 'C';
                break;
            case score >= 60:
                gradeLetter = 'D';
                break;
            default:
                gradeLetter = 'F';
        }
        
        results.push(`<p>点数${score}点: 評価${gradeLetter}</p>`);
        
        // breakを忘れた場合の例（注意）
        results.push('<h2>breakを忘れた場合（注意）</h2>');
        results.push('<p>breakを忘れると、次のcaseも実行されてしまいます</p>');
        
        const value = 1;
        let message = '';
        switch (value) {
            case 1:
                message += '1の場合 ';
                // breakがない
            case 2:
                message += '2の場合 ';
                break;
            default:
                message += 'その他';
        }
        results.push(`<p>value = 1 の場合: "${message}"（両方実行される）</p>`);
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== switch文 ===');
        console.log('値による分岐を簡潔に書けます');
        console.log('breakを忘れないように注意！');
    </script>
</body>
</html>
```

---

## 三項演算子

三項演算子は、`if-else文`を1行で書くことができる簡潔な書き方です。

### 三項演算子の基本構文

```javascript
条件 ? 真の場合の値 : 偽の場合の値
```

### 基本的な使い方

```javascript
const age = 20;
const message = age >= 20 ? '成人です' : '未成年です';
console.log(message); // '成人です'
```

### if-else文との比較

```javascript
// if-else文
let message;
if (age >= 20) {
    message = '成人です';
} else {
    message = '未成年です';
}

// 三項演算子（同じ処理）
const message = age >= 20 ? '成人です' : '未成年です';
```

### 実践例: 三項演算子

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>三項演算子</title>
</head>
<body>
    <h1>三項演算子</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // 基本的な三項演算子
        results.push('<h2>基本的な三項演算子</h2>');
        
        const age = 20;
        const message = age >= 20 ? '成人です' : '未成年です';
        results.push(`<p>年齢${age}歳: ${message}</p>`);
        
        // 複数の三項演算子
        results.push('<h2>複数の三項演算子</h2>');
        
        const score = 85;
        const grade = score >= 90 ? 'A' : score >= 70 ? 'B' : 'C';
        results.push(`<p>点数${score}点: 評価${grade}</p>`);
        
        // 実践例: 値の設定
        results.push('<h2>実践例: 値の設定</h2>');
        
        const userName = '';
        const displayName = userName ? userName : 'ゲスト';
        results.push(`<p>ユーザー名: "${displayName}"</p>`);
        
        // 実践例: クラス名の設定
        results.push('<h2>実践例: クラス名の設定</h2>');
        
        const isActive = true;
        const className = isActive ? 'active' : 'inactive';
        results.push(`<p>クラス名: ${className}</p>`);
        
        // 実践例: 最大値の取得
        results.push('<h2>実践例: 最大値の取得</h2>');
        
        const a = 10;
        const b = 20;
        const max = a > b ? a : b;
        results.push(`<p>${a}と${b}の最大値: ${max}</p>`);
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== 三項演算子 ===');
        console.log('if-else文を1行で書けます');
        console.log('簡潔ですが、複雑になりすぎないように注意');
    </script>
</body>
</html>
```

---

## 制御構文（ループ）

ループは、同じ処理を繰り返し実行する構文です。

---

## 繰り返し処理とは

### ループの概念
ループは、**同じ処理を何度も繰り返す**機能です。

### 日常生活での例
- **1から10まで数える** → 同じ動作を10回繰り返す
- **リストの項目をすべて確認する** → 各項目に対して同じ処理を行う
- **条件が満たされるまで待つ** → 条件を満たすまで繰り返す

### プログラミングでの例
```javascript
for (let i = 1; i <= 10; i++) {
    console.log(i);
}
// 1, 2, 3, 4, 5, 6, 7, 8, 9, 10 が表示される
```

### ループの種類
1. **for文**: 回数が決まっている繰り返し
2. **while文**: 条件が満たされる間繰り返す
3. **for...of文**: 配列やオブジェクトの要素を順番に処理
4. **for...in文**: オブジェクトのプロパティを順番に処理

---

## ループの基本 for文

`for文`は、回数が決まっている繰り返し処理に適しています。

### for文の基本構文

```javascript
for (初期化; 条件; 更新) {
    // 繰り返し実行される処理
}
```

### 基本的な使い方

```javascript
for (let i = 0; i < 5; i++) {
    console.log(i);
}
// 0, 1, 2, 3, 4 が表示される
```

### for文の動作の流れ

1. **初期化**: `let i = 0` が実行される（1回だけ）
2. **条件チェック**: `i < 5` が真かどうか確認
3. **処理実行**: 条件が真なら、`{}`内の処理を実行
4. **更新**: `i++` が実行される
5. **2に戻る**: 条件が偽になるまで繰り返す

### 実践例: for文の基本

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>for文</title>
</head>
<body>
    <h1>for文の基本</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // 基本的なfor文
        results.push('<h2>基本的なfor文</h2>');
        results.push('<p>0から4まで表示:</p>');
        for (let i = 0; i < 5; i++) {
            results.push(`<span>${i} </span>`);
        }
        results.push('<br>');
        
        // 1から10まで表示
        results.push('<p>1から10まで表示:</p>');
        for (let i = 1; i <= 10; i++) {
            results.push(`<span>${i} </span>`);
        }
        results.push('<br>');
        
        // 10から1まで逆順に表示
        results.push('<p>10から1まで逆順に表示:</p>');
        for (let i = 10; i >= 1; i--) {
            results.push(`<span>${i} </span>`);
        }
        results.push('<br>');
        
        // 2ずつ増やす
        results.push('<p>0から10まで2ずつ増やす:</p>');
        for (let i = 0; i <= 10; i += 2) {
            results.push(`<span>${i} </span>`);
        }
        results.push('<br>');
        
        // 実践例: 合計の計算
        results.push('<h2>実践例: 合計の計算</h2>');
        let sum = 0;
        for (let i = 1; i <= 10; i++) {
            sum += i;
        }
        results.push(`<p>1から10までの合計: ${sum}</p>`);
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== for文の基本 ===');
        for (let i = 0; i < 5; i++) {
            console.log(i);
        }
    </script>
</body>
</html>
```

---

## 配列とfor文

`for文`を使って、配列の要素を順番に処理できます。

### 配列の要素を順番に処理

```javascript
const fruits = ['りんご', 'バナナ', 'オレンジ'];

for (let i = 0; i < fruits.length; i++) {
    console.log(fruits[i]);
}
// 'りんご', 'バナナ', 'オレンジ' が表示される
```

### 配列の長さ（length）

```javascript
const arr = [1, 2, 3, 4, 5];
console.log(arr.length); // 5
```

### 実践例: 配列とfor文

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>配列とfor文</title>
</head>
<body>
    <h1>配列とfor文</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // 配列の要素を順番に処理
        results.push('<h2>配列の要素を順番に処理</h2>');
        
        const fruits = ['りんご', 'バナナ', 'オレンジ', 'ぶどう'];
        results.push('<p>フルーツリスト:</p><ul>');
        for (let i = 0; i < fruits.length; i++) {
            results.push(`<li>${i + 1}. ${fruits[i]}</li>`);
        }
        results.push('</ul>');
        
        // 配列の要素を変更
        results.push('<h2>配列の要素を変更</h2>');
        
        const numbers = [1, 2, 3, 4, 5];
        results.push(`<p>元の配列: [${numbers.join(', ')}]</p>`);
        
        for (let i = 0; i < numbers.length; i++) {
            numbers[i] = numbers[i] * 2;  // 各要素を2倍にする
        }
        results.push(`<p>2倍にした配列: [${numbers.join(', ')}]</p>`);
        
        // 実践例: 配列の合計を計算
        results.push('<h2>実践例: 配列の合計を計算</h2>');
        
        const scores = [85, 90, 78, 92, 88];
        let total = 0;
        for (let i = 0; i < scores.length; i++) {
            total += scores[i];
        }
        const average = total / scores.length;
        
        results.push(`<p>点数: [${scores.join(', ')}]</p>`);
        results.push(`<p>合計: ${total}点</p>`);
        results.push(`<p>平均: ${average.toFixed(1)}点</p>`);
        
        // 実践例: 条件に合う要素を探す
        results.push('<h2>実践例: 条件に合う要素を探す</h2>');
        
        const ages = [18, 25, 30, 15, 22];
        const adultAges = [];
        
        for (let i = 0; i < ages.length; i++) {
            if (ages[i] >= 20) {
                adultAges.push(ages[i]);
            }
        }
        
        results.push(`<p>年齢リスト: [${ages.join(', ')}]</p>`);
        results.push(`<p>成人の年齢: [${adultAges.join(', ')}]</p>`);
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== 配列とfor文 ===');
        for (let i = 0; i < fruits.length; i++) {
            console.log(fruits[i]);
        }
    </script>
</body>
</html>
```

---

## while文

`while文`は、条件が満たされる間、処理を繰り返します。

### while文の基本構文

```javascript
while (条件) {
    // 条件が真の間、繰り返し実行される処理
}
```

### 基本的な使い方

```javascript
let i = 0;
while (i < 5) {
    console.log(i);
    i++;
}
// 0, 1, 2, 3, 4 が表示される
```

### for文との比較

```javascript
// for文
for (let i = 0; i < 5; i++) {
    console.log(i);
}

// while文（同じ処理）
let i = 0;
while (i < 5) {
    console.log(i);
    i++;
}
```

### 無限ループに注意

条件が常に真の場合、無限ループになります。

```javascript
// 無限ループ（注意！）
// let i = 0;
// while (i < 5) {
//     console.log(i);
//     // i++ がないと、i が増えないので無限ループになる
// }
```

### 実践例: while文

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>while文</title>
</head>
<body>
    <h1>while文</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // 基本的なwhile文
        results.push('<h2>基本的なwhile文</h2>');
        
        let i = 0;
        results.push('<p>0から4まで表示:</p>');
        while (i < 5) {
            results.push(`<span>${i} </span>`);
            i++;
        }
        results.push('<br>');
        
        // カウントダウン
        results.push('<p>10から1までカウントダウン:</p>');
        let count = 10;
        while (count >= 1) {
            results.push(`<span>${count} </span>`);
            count--;
        }
        results.push('<br>');
        
        // 実践例: 合計が100を超えるまで
        results.push('<h2>実践例: 合計が100を超えるまで</h2>');
        
        let sum = 0;
        let num = 1;
        while (sum <= 100) {
            sum += num;
            num++;
        }
        results.push(`<p>合計が100を超えるまで: ${num - 1}まで足すと${sum}になります</p>`);
        
        // 実践例: 配列の処理
        results.push('<h2>実践例: 配列の処理</h2>');
        
        const items = ['りんご', 'バナナ', 'オレンジ'];
        let index = 0;
        results.push('<ul>');
        while (index < items.length) {
            results.push(`<li>${items[index]}</li>`);
            index++;
        }
        results.push('</ul>');
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== while文 ===');
        let j = 0;
        while (j < 5) {
            console.log(j);
            j++;
        }
    </script>
</body>
</html>
```

---

## continue

`continue文`は、ループの現在の繰り返しをスキップして、次の繰り返しに進みます。

### continue文の基本

```javascript
for (let i = 0; i < 10; i++) {
    if (i % 2 === 0) {
        continue;  // 偶数の場合はスキップ
    }
    console.log(i);  // 奇数のみ表示される
}
// 1, 3, 5, 7, 9 が表示される
```

### 実践例: continue文

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>continue文</title>
</head>
<body>
    <h1>continue文</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // 偶数をスキップして奇数だけ表示
        results.push('<h2>偶数をスキップして奇数だけ表示</h2>');
        results.push('<p>1から10までの奇数:</p>');
        for (let i = 1; i <= 10; i++) {
            if (i % 2 === 0) {
                continue;  // 偶数の場合はスキップ
            }
            results.push(`<span>${i} </span>`);
        }
        results.push('<br>');
        
        // 特定の値をスキップ
        results.push('<h2>特定の値をスキップ</h2>');
        results.push('<p>5をスキップして1から10まで表示:</p>');
        for (let i = 1; i <= 10; i++) {
            if (i === 5) {
                continue;  // 5の場合はスキップ
            }
            results.push(`<span>${i} </span>`);
        }
        results.push('<br>');
        
        // 実践例: 条件に合わない要素をスキップ
        results.push('<h2>実践例: 条件に合わない要素をスキップ</h2>');
        
        const scores = [85, 0, 90, 0, 78, 0, 92];
        const validScores = [];
        
        for (let i = 0; i < scores.length; i++) {
            if (scores[i] === 0) {
                continue;  // 0の場合はスキップ
            }
            validScores.push(scores[i]);
        }
        
        results.push(`<p>元の点数: [${scores.join(', ')}]</p>`);
        results.push(`<p>有効な点数: [${validScores.join(', ')}]</p>`);
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== continue文 ===');
        for (let i = 1; i <= 10; i++) {
            if (i % 2 === 0) {
                continue;
            }
            console.log(i);
        }
    </script>
</body>
</html>
```

---

## break

`break文`は、ループを途中で終了させます。

### break文の基本

```javascript
for (let i = 0; i < 10; i++) {
    if (i === 5) {
        break;  // iが5になったらループを終了
    }
    console.log(i);
}
// 0, 1, 2, 3, 4 が表示される（5で終了）
```

### 実践例: break文

```html
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>break文</title>
</head>
<body>
    <h1>break文</h1>
    <div id="output"></div>
    
    <script>
        const output = document.getElementById('output');
        let results = [];
        
        // 5になったらループを終了
        results.push('<h2>5になったらループを終了</h2>');
        results.push('<p>0から9まで表示（5で終了）:</p>');
        for (let i = 0; i < 10; i++) {
            if (i === 5) {
                break;  // 5になったら終了
            }
            results.push(`<span>${i} </span>`);
        }
        results.push('<br>');
        
        // 実践例: 条件を満たす要素を見つけたら終了
        results.push('<h2>実践例: 条件を満たす要素を見つけたら終了</h2>');
        
        const numbers = [1, 3, 5, 7, 9, 11, 13];
        let foundIndex = -1;
        
        for (let i = 0; i < numbers.length; i++) {
            if (numbers[i] > 10) {
                foundIndex = i;
                break;  // 10より大きい値を見つけたら終了
            }
        }
        
        results.push(`<p>配列: [${numbers.join(', ')}]</p>`);
        if (foundIndex !== -1) {
            results.push(`<p>10より大きい値を見つけました: ${numbers[foundIndex]}（インデックス: ${foundIndex}）</p>`);
        } else {
            results.push('<p>10より大きい値は見つかりませんでした</p>');
        }
        
        // 実践例: 合計が100を超えたら終了
        results.push('<h2>実践例: 合計が100を超えたら終了</h2>');
        
        let sum = 0;
        let count = 0;
        for (let i = 1; i <= 20; i++) {
            sum += i;
            count++;
            if (sum > 100) {
                break;  // 合計が100を超えたら終了
            }
        }
        
        results.push(`<p>1から${count}まで足すと${sum}になります（100を超えました）</p>`);
        
        output.innerHTML = results.join('');
        
        // コンソールで確認
        console.log('=== break文 ===');
        for (let i = 0; i < 10; i++) {
            if (i === 5) {
                break;
            }
            console.log(i);
        }
    </script>
</body>
</html>
```

---

## まとめ

この章では、制御構文（条件分岐とループ）について学びました。

### 学んだこと

#### 条件分岐
- `if文`: 基本的な条件分岐
- `if-else文`: 条件が偽の場合の処理
- `if-else if-else文`: 複数の条件を判定
- `switch文`: 値による分岐
- `三項演算子`: 簡潔な条件分岐
- 論理演算子との組み合わせ
- 真偽値の判断

#### ループ処理
- `for文`: 回数が決まっている繰り返し
- `while文`: 条件が満たされる間繰り返す
- 配列とループの組み合わせ
- `continue文`: 現在の繰り返しをスキップ
- `break文`: ループを途中で終了

### 重要なポイント
1. **条件分岐で処理を分ける**: 条件に応じて異なる処理を実行
2. **ループで繰り返し処理**: 同じ処理を何度も実行
3. **`===`を使う**: 厳密等価演算子で比較
4. **無限ループに注意**: `while文`では条件の更新を忘れない
5. **`break`と`continue`を適切に使う**: ループの制御を柔軟に

### 次のステップ
次の章では、関数とスコープについて詳しく学びます。

---

## 演習問題

### 問題1: if文
変数`age`が20以上の場合に「成人です」、そうでない場合に「未成年です」と表示するプログラムを作成してください。

<details>
<summary>解答例</summary>

```javascript
const age = 25;

if (age >= 20) {
    console.log('成人です');
} else {
    console.log('未成年です');
}
```
</details>

### 問題2: switch文
変数`day`の値に応じて、曜日を表示するプログラムを作成してください（'月', '火', '水', '木', '金', '土', '日'）。

<details>
<summary>解答例</summary>

```javascript
const day = '月';

switch (day) {
    case '月':
        console.log('月曜日です');
        break;
    case '火':
        console.log('火曜日です');
        break;
    case '水':
        console.log('水曜日です');
        break;
    case '木':
        console.log('木曜日です');
        break;
    case '金':
        console.log('金曜日です');
        break;
    case '土':
        console.log('土曜日です');
        break;
    case '日':
        console.log('日曜日です');
        break;
    default:
        console.log('無効な曜日です');
}
```
</details>

### 問題3: for文
1から100までの合計を計算するプログラムを作成してください。

<details>
<summary>解答例</summary>

```javascript
let sum = 0;

for (let i = 1; i <= 100; i++) {
    sum += i;
}

console.log('合計:', sum); // 5050
```
</details>

### 問題4: 配列とfor文
配列`[10, 20, 30, 40, 50]`の各要素を2倍にして、新しい配列を作成してください。

<details>
<summary>解答例</summary>

```javascript
const numbers = [10, 20, 30, 40, 50];
const doubled = [];

for (let i = 0; i < numbers.length; i++) {
    doubled.push(numbers[i] * 2);
}

console.log('元の配列:', numbers);
console.log('2倍にした配列:', doubled);
```
</details>

### 問題5: while文とbreak
1から始めて、合計が100を超えるまで数を足し続けるプログラムを作成してください。合計が100を超えた時点で終了し、その時の数と合計を表示してください。

<details>
<summary>解答例</summary>

```javascript
let sum = 0;
let num = 1;

while (true) {
    sum += num;
    if (sum > 100) {
        break;
    }
    num++;
}

console.log(`1から${num}まで足すと${sum}になります`);
```
</details>

---

お疲れ様でした！次の章に進みましょう。

