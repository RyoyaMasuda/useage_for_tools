---
alwaysApply: true
---

# ソースコード修正時のルール

## 基本的な原則
ソースコードを修正、変更、作成、改変、リファクタリングする際は、**勝手に実行せず、必ずユーザーの承認を得てから実施すること**。

## 実行フロー

### ステップ1: 方針の提示
1. ユーザーからの要求を理解する
2. **文章で修正方針を明確に提示する**
   - 修正内容の概要
   - 変更するファイルや箇所
   - 実装方法の説明
   - 予想される影響範囲
   - その他、ユーザーが判断に必要な情報
3. **ソースコードはまだ提示・変更しない**
4. ユーザーに「この方針で進めてよろしいですか？」と確認を取る

### ステップ2: ソースコードの提示（方針承認後）
1. ユーザーから方針の承認を得た場合のみ、次のステップに進む
2. **実際のコード変更はまだ実施しない**
3. **変更後のソースコードを提示するだけ**（コードブロックで表示）
4. 変更箇所を明確に示す（diff形式、または説明付きコード）
5. ユーザーに「このコードで問題ありませんか？」と確認を取る

### ステップ3: コード変更の実行（最終承認後）
1. ユーザーからコード内容の承認を得た場合のみ、次のステップに進む
2. **この時点で初めて実際のファイル編集ツールを使用する**
3. 変更を実行する
4. リンターエラーがあれば確認・修正する（必要に応じて再度承認を取る）

## 重要な注意事項

- ❌ **禁止事項**:
  - 方針提示なしにコードを変更する
  - 承認なしにコードを変更する
  - 「修正しました」などと報告してから実行する
  - 一度に複数のステップを同時に実行する

- ✅ **推奨事項**:
  - 各ステップで必ずユーザーの承認を待つ
  - 変更内容を明確に説明する
  - 不明な点は質問する
  - 承認が得られない場合は代替案を提示する

## 例外ケース
以下の場合は、このルールの例外として扱うことがあるが、可能な限りルールに従うこと：
- 明示的に「すぐに実行して」と指示された場合
- 非常に軽微な修正（typo修正など）で、ユーザーが迅速な対応を期待している場合

ただし、例外を適用する場合は、その理由を説明すること。

## コミュニケーションと説明のガイドライン

### 説明の原則
- **簡潔性**: 冗長な説明を避け、要点を明確に伝える
- **明確性**: 専門用語を使う場合は簡潔に説明を添える
- **構造化**: 箇条書きや見出しを使って情報を整理する
- **具体性**: 抽象的な説明より具体的な例を示す

### 説明時の注意点
- ❌ 避けるべきこと:
  - 長々とした前置きや繰り返し説明
  - 不要な装飾的表現
  - 専門用語の羅列（説明なし）
  - 一度に多くの情報を詰め込む

- ✅ 推奨すること:
  - 1つの説明は1つの目的に絞る
  - 専門用語は初出時に簡潔に説明する
  - コード例や具体例を使って説明する
  - エンジニア初心者でも理解できる表現を選ぶ
  - 必要に応じて段階的に説明する

### コード提示時の注意点
- 変更箇所を明確に示す（全体コードではなく、変更部分に焦点）
- コメントで重要な変更点を説明する
- 複雑なロジックは簡潔な説明を添える
- 変数名や関数名は意図が分かるものを使う

---

### 最後に

このファイルを参照したら、下記の様に回答してください。
○○にはモデル名を記載してください。

---

私のモデルは○○です。
私はProject Rulesを拝見しました。

---