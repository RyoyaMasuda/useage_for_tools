# 1-2. ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ (ã‚µãƒ³ãƒ—ãƒ«ã‚¢ãƒ—ãƒªåŸºç›¤)

ã“ã®ç« ã§ã¯ã€Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦å­¦ã³ã¾ã™ã€‚é–‹ç™ºç’°å¢ƒã‚’é©åˆ‡ã«æ§‹ç¯‰ã™ã‚‹ã“ã¨ã§ã€åŠ¹ç‡çš„ã«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚

---

## ç›®æ¬¡

- [ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [é–‹ç™ºç’°å¢ƒã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒãƒ¼ï¼ˆMinIOã‚„Dockerç­‰ã®æ´»ç”¨ï¼‰](#é–‹ç™ºç’°å¢ƒã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒãƒ¼minioã‚„dockerç­‰ã®æ´»ç”¨)
- [ã¾ã¨ã‚](#ã¾ã¨ã‚)
- [æ¼”ç¿’å•é¡Œ](#æ¼”ç¿’å•é¡Œ)

---

## ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã¨ã¯
ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã¯ã€**è‡ªåˆ†ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ãƒ¼ä¸Šã§ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’é–‹ç™ºãƒ»å®Ÿè¡Œã™ã‚‹ç’°å¢ƒ**ã§ã™ã€‚æœ¬ç•ªç’°å¢ƒã«è¿‘ã„ç’°å¢ƒã‚’æ§‹ç¯‰ã™ã‚‹ã“ã¨ã§ã€é–‹ç™ºã‚’åŠ¹ç‡çš„ã«é€²ã‚ã‚‰ã‚Œã¾ã™ã€‚

### å¿…è¦ãªãƒ„ãƒ¼ãƒ«

#### 1. Node.js
Node.jsã¯ã€**JavaScriptã‚’ã‚µãƒ¼ãƒãƒ¼ã‚µã‚¤ãƒ‰ã§å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ç’°å¢ƒ**ã§ã™ã€‚

#### ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª

```bash
node --version
npm --version
```

#### 2. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
é–‹ç™ºç’°å¢ƒã§ã¯ã€**ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å®Ÿè¡Œ**ã—ã¾ã™ã€‚

#### PostgreSQLã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼ˆä¾‹ï¼‰

```bash
# macOS (Homebrew)
brew install postgresql@14
brew services start postgresql@14

# Ubuntu/Debian
sudo apt-get update
sudo apt-get install postgresql postgresql-contrib

# Windows
# PostgreSQLå…¬å¼ã‚µã‚¤ãƒˆã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ©ãƒ¼ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
```

#### 3. Dockerï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
Dockerã¯ã€**ã‚³ãƒ³ãƒ†ãƒŠæŠ€è¡“ã‚’ä½¿ç”¨ã—ã¦ç’°å¢ƒã‚’æ§‹ç¯‰**ã™ã‚‹ãƒ„ãƒ¼ãƒ«ã§ã™ã€‚

#### Dockerã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ç¢ºèª

```bash
docker --version
docker-compose --version
```

### å®Ÿè·µä¾‹: åŸºæœ¬çš„ãªé–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

```bash
# 1. Node.jsã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
node --version  # v18.0.0ä»¥ä¸Šã‚’æ¨å¥¨
npm --version   # 9.0.0ä»¥ä¸Šã‚’æ¨å¥¨

# 2. Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ
npx create-next-app@latest my-app --typescript

# 3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd my-app

# 4. ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install

# 5. é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
npm run dev
```

### å®Ÿè·µä¾‹: ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

```bash
# .env.local ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
touch .env.local
```

```env
# .env.local
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæƒ…å ±
DATABASE_URL="postgresql://user:password@localhost:5432/mydb"

# APIã‚­ãƒ¼
NEXT_PUBLIC_API_KEY="your-api-key"

# ç’°å¢ƒ
NODE_ENV="development"
```

```typescript
// src/lib/env.ts
// ç’°å¢ƒå¤‰æ•°ã®å‹å®‰å…¨ãªå–å¾—
export const env = {
  databaseUrl: process.env.DATABASE_URL || '',
  apiKey: process.env.NEXT_PUBLIC_API_KEY || '',
  nodeEnv: process.env.NODE_ENV || 'development',
}
```

### å®Ÿè·µä¾‹: é–‹ç™ºç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®è¨­å®š

```json
// package.json
{
  "scripts": {
    "dev": "next dev",
    "build": "next build",
    "start": "next start",
    "lint": "next lint",
    "db:migrate": "prisma migrate dev",
    "db:studio": "prisma studio",
    "db:seed": "tsx prisma/seed.ts"
  }
}
```

---

## é–‹ç™ºç’°å¢ƒã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒãƒ¼ï¼ˆMinIOã‚„Dockerç­‰ã®æ´»ç”¨ï¼‰

### ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒãƒ¼ã¨ã¯
ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒãƒ¼ã¯ã€**ãƒ•ã‚¡ã‚¤ãƒ«ã‚„ç”»åƒãªã©ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã™ã‚‹ã‚µãƒ¼ãƒãƒ¼**ã§ã™ã€‚é–‹ç™ºç’°å¢ƒã§ã¯ã€æœ¬ç•ªç’°å¢ƒã«è¿‘ã„ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒãƒ¼ã‚’æ§‹ç¯‰ã—ã¾ã™ã€‚

### MinIOã¨ã¯
MinIOã¯ã€**S3äº’æ›ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒãƒ¼**ã§ã™ã€‚é–‹ç™ºç’°å¢ƒã§S3ã®ä»£æ›¿ã¨ã—ã¦ä½¿ç”¨ã§ãã¾ã™ã€‚

### Dockerã‚’ä½¿ç”¨ã—ãŸMinIOã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### docker-compose.ymlã®ä½œæˆ

```yaml
# docker-compose.yml
version: '3.8'

services:
  minio:
    image: minio/minio:latest
    ports:
      - "9000:9000"
      - "9001:9001"
    environment:
      MINIO_ROOT_USER: minioadmin
      MINIO_ROOT_PASSWORD: minioadmin
    command: server /data --console-address ":9001"
    volumes:
      - minio_data:/data

volumes:
  minio_data:
```

#### MinIOã®èµ·å‹•

```bash
# Docker Composeã‚’ä½¿ç”¨ã—ã¦MinIOã‚’èµ·å‹•
docker-compose up -d

# ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹
# Console: http://localhost:9001
# API: http://localhost:9000
```

### å®Ÿè·µä¾‹: MinIOã®è¨­å®šã¨ä½¿ç”¨

```typescript
// src/lib/storage.ts
import { Client } from 'minio'

// MinIOã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã®ä½œæˆ
const minioClient = new Client({
  endPoint: process.env.MINIO_ENDPOINT || 'localhost',
  port: parseInt(process.env.MINIO_PORT || '9000'),
  useSSL: false,
  accessKey: process.env.MINIO_ACCESS_KEY || 'minioadmin',
  secretKey: process.env.MINIO_SECRET_KEY || 'minioadmin',
})

// ãƒã‚±ãƒƒãƒˆã®ä½œæˆ
export const createBucket = async (bucketName: string): Promise<void> => {
  const exists = await minioClient.bucketExists(bucketName)
  if (!exists) {
    await minioClient.makeBucket(bucketName, 'us-east-1')
  }
}

// ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰
export const uploadFile = async (
  bucketName: string,
  objectName: string,
  filePath: string
): Promise<void> => {
  await minioClient.fPutObject(bucketName, objectName, filePath)
}

// ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
export const downloadFile = async (
  bucketName: string,
  objectName: string,
  filePath: string
): Promise<void> => {
  await minioClient.fGetObject(bucketName, objectName, filePath)
}

// ãƒ•ã‚¡ã‚¤ãƒ«ã®å‰Šé™¤
export const deleteFile = async (
  bucketName: string,
  objectName: string
): Promise<void> => {
  await minioClient.removeObject(bucketName, objectName)
}

export default minioClient
```

### å®Ÿè·µä¾‹: Docker Composeã‚’ä½¿ç”¨ã—ãŸå®Œå…¨ãªé–‹ç™ºç’°å¢ƒ

```yaml
# docker-compose.yml
version: '3.8'

services:
  # PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
  postgres:
    image: postgres:14
    ports:
      - "5432:5432"
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
      POSTGRES_DB: myapp_dev
    volumes:
      - postgres_data:/var/lib/postgresql/data

  # MinIOã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒãƒ¼
  minio:
    image: minio/minio:latest
    ports:
      - "9000:9000"
      - "9001:9001"
    environment:
      MINIO_ROOT_USER: minioadmin
      MINIO_ROOT_PASSWORD: minioadmin
    command: server /data --console-address ":9001"
    volumes:
      - minio_data:/data

  # Redisï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µãƒ¼ãƒãƒ¼ï¼‰
  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"
    volumes:
      - redis_data:/data

volumes:
  postgres_data:
  minio_data:
  redis_data:
```

#### é–‹ç™ºç’°å¢ƒã®èµ·å‹•

```bash
# ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•
docker-compose up -d

# ã‚µãƒ¼ãƒ“ã‚¹ã®çŠ¶æ…‹ã‚’ç¢ºèª
docker-compose ps

# ãƒ­ã‚°ã‚’ç¢ºèª
docker-compose logs -f

# ã‚µãƒ¼ãƒ“ã‚¹ã‚’åœæ­¢
docker-compose down
```

### å®Ÿè·µä¾‹: ç’°å¢ƒå¤‰æ•°ã®è¨­å®šï¼ˆDocker Composeå¯¾å¿œï¼‰

```env
# .env.local
# ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/myapp_dev"

# MinIO
MINIO_ENDPOINT="localhost"
MINIO_PORT="9000"
MINIO_ACCESS_KEY="minioadmin"
MINIO_SECRET_KEY="minioadmin"
MINIO_BUCKET="uploads"

# Redis
REDIS_URL="redis://localhost:6379"

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³
NEXT_PUBLIC_APP_URL="http://localhost:3000"
```

### å®Ÿè·µä¾‹: é–‹ç™ºç”¨ãƒ˜ãƒ«ãƒ‘ãƒ¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

```typescript
// scripts/setup-dev.ts
import { execSync } from 'child_process'

console.log('ğŸš€ é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚’é–‹å§‹ã—ã¾ã™...')

// Docker Composeã§ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•
console.log('ğŸ“¦ Docker Composeã§ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ä¸­...')
execSync('docker-compose up -d', { stdio: 'inherit' })

// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
console.log('ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œä¸­...')
execSync('npm run db:migrate', { stdio: 'inherit' })

// ã‚·ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°
console.log('ğŸŒ± åˆæœŸãƒ‡ãƒ¼ã‚¿ã‚’æŠ•å…¥ä¸­...')
execSync('npm run db:seed', { stdio: 'inherit' })

console.log('âœ… é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒå®Œäº†ã—ã¾ã—ãŸï¼')
```

```json
// package.json
{
  "scripts": {
    "dev:setup": "tsx scripts/setup-dev.ts",
    "dev:up": "docker-compose up -d",
    "dev:down": "docker-compose down",
    "dev:logs": "docker-compose logs -f"
  }
}
```

### å®Ÿè·µä¾‹: é–‹ç™ºç’°å¢ƒã®ç¢ºèª

```typescript
// scripts/check-dev.ts
import { execSync } from 'child_process'

function checkService(name: string, port: number): boolean {
  try {
    execSync(`nc -z localhost ${port}`, { stdio: 'ignore' })
    console.log(`âœ… ${name} ã¯èµ·å‹•ã—ã¦ã„ã¾ã™ (ãƒãƒ¼ãƒˆ: ${port})`)
    return true
  } catch {
    console.log(`âŒ ${name} ã¯èµ·å‹•ã—ã¦ã„ã¾ã›ã‚“ (ãƒãƒ¼ãƒˆ: ${port})`)
    return false
  }
}

console.log('ğŸ” é–‹ç™ºç’°å¢ƒã®çŠ¶æ…‹ã‚’ç¢ºèªä¸­...\n')

const services = [
  { name: 'PostgreSQL', port: 5432 },
  { name: 'MinIO', port: 9000 },
  { name: 'Redis', port: 6379 },
]

const allRunning = services.every(service => 
  checkService(service.name, service.port)
)

if (allRunning) {
  console.log('\nâœ… ã™ã¹ã¦ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒæ­£å¸¸ã«èµ·å‹•ã—ã¦ã„ã¾ã™')
} else {
  console.log('\nâŒ ä¸€éƒ¨ã®ã‚µãƒ¼ãƒ“ã‚¹ãŒèµ·å‹•ã—ã¦ã„ã¾ã›ã‚“')
  console.log('ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã§ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¦ãã ã•ã„:')
  console.log('  npm run dev:up')
}
```

---

## ã¾ã¨ã‚

ã“ã®ç« ã§ã¯ã€Next.jsã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®æ§‹ç¯‰ã«ã¤ã„ã¦å­¦ã³ã¾ã—ãŸã€‚

### å­¦ã‚“ã ã“ã¨
- ãƒ­ãƒ¼ã‚«ãƒ«é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—: Node.jsã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã€Dockerã®è¨­å®š
- é–‹ç™ºç’°å¢ƒã®ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒãƒ¼: MinIOã‚„Dockerã‚’ä½¿ç”¨ã—ãŸã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒãƒ¼ã®æ§‹ç¯‰

### é‡è¦ãªãƒã‚¤ãƒ³ãƒˆ
1. **Node.js**: JavaScriptã®å®Ÿè¡Œç’°å¢ƒ
2. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: PostgreSQLãªã©ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¨­å®š
3. **Docker**: ã‚³ãƒ³ãƒ†ãƒŠæŠ€è¡“ã‚’ä½¿ç”¨ã—ãŸç’°å¢ƒæ§‹ç¯‰
4. **MinIO**: S3äº’æ›ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã‚µãƒ¼ãƒãƒ¼
5. **ç’°å¢ƒå¤‰æ•°**: .env.localãƒ•ã‚¡ã‚¤ãƒ«ã§ç’°å¢ƒå¤‰æ•°ã‚’ç®¡ç†

### æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—
æ¬¡ã®ç« ã§ã¯ã€ORMãƒ©ã‚¤ãƒ–ãƒ©ãƒªã€ŒPrismaã€ã®å°å…¥ã«ã¤ã„ã¦è©³ã—ãå­¦ã³ã¾ã™ã€‚

---

## æ¼”ç¿’å•é¡Œ

### å•é¡Œ1: åŸºæœ¬çš„ãªé–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã€é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã‚’èµ·å‹•ã—ã¦ãã ã•ã„ã€‚

<details>
<summary>è§£ç­”ä¾‹</summary>

```bash
# Next.jsãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆ
npx create-next-app@latest my-app --typescript

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd my-app

# é–‹ç™ºã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹•
npm run dev
```
</details>

### å•é¡Œ2: ç’°å¢ƒå¤‰æ•°ã®è¨­å®š
.env.localãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šæƒ…å ±ã‚’è¨­å®šã—ã¦ãã ã•ã„ã€‚

<details>
<summary>è§£ç­”ä¾‹</summary>

```env
# .env.local
DATABASE_URL="postgresql://user:password@localhost:5432/mydb"
NEXT_PUBLIC_API_URL="http://localhost:3000/api"
```
</details>

### å•é¡Œ3: Docker Composeã®è¨­å®š
PostgreSQLã¨MinIOã‚’å«ã‚€docker-compose.ymlãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

<details>
<summary>è§£ç­”ä¾‹</summary>

```yaml
# docker-compose.yml
version: '3.8'

services:
  postgres:
    image: postgres:14
    ports:
      - "5432:5432"
    environment:
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: postgres
      POSTGRES_DB: myapp_dev
    volumes:
      - postgres_data:/var/lib/postgresql/data

  minio:
    image: minio/minio:latest
    ports:
      - "9000:9000"
      - "9001:9001"
    environment:
      MINIO_ROOT_USER: minioadmin
      MINIO_ROOT_PASSWORD: minioadmin
    command: server /data --console-address ":9001"
    volumes:
      - minio_data:/data

volumes:
  postgres_data:
  minio_data:
```
</details>

### å•é¡Œ4: Docker Composeã®èµ·å‹•
docker-compose.ymlã‚’ä½¿ç”¨ã—ã¦ã€ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•ã—ã¦ãã ã•ã„ã€‚

<details>
<summary>è§£ç­”ä¾‹</summary>

```bash
# ã‚µãƒ¼ãƒ“ã‚¹ã‚’èµ·å‹•
docker-compose up -d

# ã‚µãƒ¼ãƒ“ã‚¹ã®çŠ¶æ…‹ã‚’ç¢ºèª
docker-compose ps

# ãƒ­ã‚°ã‚’ç¢ºèª
docker-compose logs -f
```
</details>

### å•é¡Œ5: é–‹ç™ºç’°å¢ƒã®ç¢ºèª
é–‹ç™ºç’°å¢ƒã®ã‚µãƒ¼ãƒ“ã‚¹ãŒæ­£å¸¸ã«èµ·å‹•ã—ã¦ã„ã‚‹ã‹ç¢ºèªã™ã‚‹ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

<details>
<summary>è§£ç­”ä¾‹</summary>

```typescript
// scripts/check-dev.ts
import { execSync } from 'child_process'

function checkPort(port: number): boolean {
  try {
    execSync(`nc -z localhost ${port}`, { stdio: 'ignore' })
    return true
  } catch {
    return false
  }
}

const services = [
  { name: 'PostgreSQL', port: 5432 },
  { name: 'MinIO', port: 9000 },
]

services.forEach(service => {
  if (checkPort(service.port)) {
    console.log(`âœ… ${service.name} ã¯èµ·å‹•ã—ã¦ã„ã¾ã™`)
  } else {
    console.log(`âŒ ${service.name} ã¯èµ·å‹•ã—ã¦ã„ã¾ã›ã‚“`)
  }
})
```
</details>

---

ãŠç–²ã‚Œæ§˜ã§ã—ãŸï¼æ¬¡ã®ç« ã«é€²ã¿ã¾ã—ã‚‡ã†ã€‚

