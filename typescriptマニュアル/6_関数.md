# 6. 関数

この章では、処理をまとめて再利用できる「関数」について学びます。TypeScriptの関数では、型注釈を使って引数や戻り値の型を明確に指定できます。関数を理解することで、コードを整理し、効率的にプログラムを作成できるようになります。

---

## 目次

- [関数とは何か](#関数とは何か)
- [function命令（関数宣言）](#function命令関数宣言)
- [関数リテラル（関数式）](#関数リテラル関数式)
- [アロー関数](#アロー関数)
- [関数の型注釈：引数と戻り値](#関数の型注釈引数と戻り値)
- [void型：何も返さない関数](#void型何も返さない関数)
- [引数にデフォルト値を設定しよう](#引数にデフォルト値を設定しよう)
- [オプション引数](#オプション引数)
- [コールバック関数](#コールバック関数)
- [まとめ](#まとめ)
- [演習問題](#演習問題)

---

## 関数とは何か

### 関数の概念
関数（function）は、**処理をまとめて、何度でも使えるようにする**仕組みです。

### 日常生活での例
- **レシピ**: 料理の手順をまとめたもの（関数）を、何度でも使える
- **型紙**: 服を作る手順をまとめたもの（関数）を、何度でも使える
- **マニュアル**: 作業手順をまとめたもの（関数）を、何度でも使える

### プログラミングでの例

```typescript
// 挨拶をする関数
function greet(): void {
    console.log('こんにちは！');
}

// 関数を呼び出す（何度でも使える）
greet(); // こんにちは！
greet(); // こんにちは！
greet(); // こんにちは！
```

### 関数を使う理由
1. **コードの再利用**: 同じ処理を何度も書かなくてよい
2. **コードの整理**: 処理をまとめて、読みやすくなる
3. **修正が簡単**: 1箇所を修正するだけで、すべてに反映される
4. **テストが容易**: 関数単位でテストできる
5. **型安全性**: TypeScriptでは型注釈により、エラーを事前に発見できる

### 実践例: 関数の基本概念

```typescript
// src/function-basics.ts
// 関数を使わない場合（同じ処理を何度も書く）
console.log("こんにちは！");
console.log("こんにちは！");
console.log("こんにちは！");

// 関数を使う場合（処理をまとめて再利用）
function greet(): void {
    console.log("こんにちは！");
}

greet();
greet();
greet();

// 実践例: 計算処理を関数化
function add(a: number, b: number): number {
    return a + b;
}

console.log(`5 + 3 = ${add(5, 3)}`);     // 8
console.log(`10 + 20 = ${add(10, 20)}`); // 30

// 実践例: 文字列処理を関数化
function greetPerson(name: string): string {
    return `こんにちは、${name}さん！`;
}

console.log(greetPerson("太郎")); // こんにちは、太郎さん！
console.log(greetPerson("花子")); // こんにちは、花子さん！
```

---

## function命令（関数宣言）

### 関数宣言とは
関数宣言は、**functionキーワードを使って関数を定義する**方法です。

### 関数宣言の基本構文

```typescript
function 関数名(引数1: 型1, 引数2: 型2): 戻り値の型 {
    // 処理
    return 戻り値;
}
```

### 関数宣言の特徴
- **ホイスティング**: 関数宣言は、コードの実行前にメモリに読み込まれるため、宣言より前でも呼び出せる
- **明確な型指定**: TypeScriptでは引数と戻り値の型を明示できる

### 実践例: 関数宣言

```typescript
// src/function-declaration.ts
// 基本的な関数宣言
function sayHello(): void {
    console.log("Hello!");
}

sayHello(); // Hello!

// 引数を持つ関数
function greet(name: string): void {
    console.log(`こんにちは、${name}さん！`);
}

greet("太郎"); // こんにちは、太郎さん！

// 戻り値を持つ関数
function add(a: number, b: number): number {
    return a + b;
}

const result = add(5, 3);
console.log(`5 + 3 = ${result}`); // 8

// 複数の引数を持つ関数
function calculate(a: number, b: number, operation: string): number {
    if (operation === "add") {
        return a + b;
    } else if (operation === "subtract") {
        return a - b;
    } else if (operation === "multiply") {
        return a * b;
    } else if (operation === "divide") {
        return a / b;
    }
    return 0;
}

console.log(`10 + 5 = ${calculate(10, 5, "add")}`);      // 15
console.log(`10 - 5 = ${calculate(10, 5, "subtract")}`); // 5
console.log(`10 * 5 = ${calculate(10, 5, "multiply")}`); // 50
console.log(`10 / 5 = ${calculate(10, 5, "divide")}`);  // 2

// 実践例: 文字列処理関数
function capitalize(str: string): string {
    return str.charAt(0).toUpperCase() + str.slice(1).toLowerCase();
}

console.log(capitalize("hello"));    // Hello
console.log(capitalize("WORLD"));    // World
console.log(capitalize("tYpEsCrIpT")); // Typescript

// 実践例: 数値判定関数
function isEven(num: number): boolean {
    return num % 2 === 0;
}

console.log(`4は偶数: ${isEven(4)}`);  // true
console.log(`5は偶数: ${isEven(5)}`);  // false

// ホイスティングの例（関数宣言は先に呼び出せる）
console.log(`ホイスティング: ${hoistedFunction()}`); // これは動作する

function hoistedFunction(): string {
    return "関数宣言は先に呼び出せます";
}
```

---

## 関数リテラル（関数式）

### 関数式とは
関数式は、**変数に代入する形で関数を定義する**方法です。

### 関数式の基本構文

```typescript
const 変数名 = function(引数1: 型1, 引数2: 型2): 戻り値の型 {
    // 処理
    return 戻り値;
};
```

### 関数宣言と関数式の違い

| 特徴 | 関数宣言 | 関数式 |
|------|---------|--------|
| ホイスティング | あり | なし |
| 名前 | 必須 | 任意（匿名関数も可） |
| 使い方 | 関数名で呼び出す | 変数名で呼び出す |

### 実践例: 関数式

```typescript
// src/function-expression.ts
// 基本的な関数式
const sayHello = function(): void {
    console.log("Hello!");
};

sayHello(); // Hello!

// 引数を持つ関数式
const greet = function(name: string): void {
    console.log(`こんにちは、${name}さん！`);
};

greet("太郎"); // こんにちは、太郎さん！

// 戻り値を持つ関数式
const add = function(a: number, b: number): number {
    return a + b;
};

console.log(`5 + 3 = ${add(5, 3)}`); // 8

// 名前付き関数式
const multiply = function multiplyNumbers(a: number, b: number): number {
    return a * b;
};

console.log(`5 * 3 = ${multiply(5, 3)}`); // 15

// 実践例: 計算関数を関数式で定義
const calculate = function(a: number, b: number, operation: string): number {
    switch (operation) {
        case "add":
            return a + b;
        case "subtract":
            return a - b;
        case "multiply":
            return a * b;
        case "divide":
            return a / b;
        default:
            return 0;
    }
};

console.log(`10 + 5 = ${calculate(10, 5, "add")}`);      // 15
console.log(`10 - 5 = ${calculate(10, 5, "subtract")}`); // 5

// 実践例: 配列処理関数
const findMax = function(numbers: number[]): number {
    if (numbers.length === 0) {
        throw new Error("配列が空です");
    }
    
    let max = numbers[0];
    for (let i = 1; i < numbers.length; i++) {
        if (numbers[i] > max) {
            max = numbers[i];
        }
    }
    return max;
};

const scores = [85, 92, 78, 96, 88];
console.log(`最高点: ${findMax(scores)}`); // 96

// 関数式はホイスティングされない（エラーになる）
// console.log(notHoisted()); // エラー: 変数が定義される前に使用できない

const notHoisted = function(): string {
    return "関数式は先に呼び出せません";
};
```

---

## アロー関数

### アロー関数とは
アロー関数は、**=>（矢印）を使って簡潔に書く**関数の記法です。

### アロー関数の基本構文

```typescript
// 基本形
const 変数名 = (引数1: 型1, 引数2: 型2): 戻り値の型 => {
    return 戻り値;
};

// 1行で書ける場合（returnが不要）
const 変数名 = (引数1: 型1, 引数2: 型2): 戻り値の型 => 戻り値;

// 引数が1つの場合、括弧を省略できる
const 変数名 = 引数: 型 => 戻り値;
```

### アロー関数の特徴
- **簡潔な記法**: 関数式より短く書ける
- **thisの扱い**: 通常の関数とは異なる（詳しくは後の章で）
- **型注釈**: TypeScriptでは型を明示できる

### 実践例: アロー関数

```typescript
// src/arrow-function.ts
// 基本的なアロー関数
const sayHello = (): void => {
    console.log("Hello!");
};

sayHello(); // Hello!

// 引数を持つアロー関数
const greet = (name: string): void => {
    console.log(`こんにちは、${name}さん！`);
};

greet("太郎"); // こんにちは、太郎さん！

// 戻り値を持つアロー関数（ブロック形式）
const add = (a: number, b: number): number => {
    return a + b;
};

console.log(`5 + 3 = ${add(5, 3)}`); // 8

// 戻り値を持つアロー関数（1行形式）
const multiply = (a: number, b: number): number => a * b;

console.log(`5 * 3 = ${multiply(5, 3)}`); // 15

// 引数が1つの場合、括弧を省略できる
const double = (x: number): number => x * 2;

console.log(`5の2倍: ${double(5)}`); // 10

// 実践例: 配列処理でアロー関数を使用
const numbers = [1, 2, 3, 4, 5];

// map: 各要素を2倍にする
const doubled = numbers.map((num: number): number => num * 2);
console.log(`2倍: ${doubled}`); // [2, 4, 6, 8, 10]

// filter: 偶数だけを抽出
const evens = numbers.filter((num: number): boolean => num % 2 === 0);
console.log(`偶数: ${evens}`); // [2, 4]

// reduce: 合計を計算
const sum = numbers.reduce((acc: number, num: number): number => acc + num, 0);
console.log(`合計: ${sum}`); // 15

// 実践例: 複数のアロー関数
const calculate = {
    add: (a: number, b: number): number => a + b,
    subtract: (a: number, b: number): number => a - b,
    multiply: (a: number, b: number): number => a * b,
    divide: (a: number, b: number): number => a / b
};

console.log(`10 + 5 = ${calculate.add(10, 5)}`);      // 15
console.log(`10 - 5 = ${calculate.subtract(10, 5)}`); // 5
console.log(`10 * 5 = ${calculate.multiply(10, 5)}`); // 50
console.log(`10 / 5 = ${calculate.divide(10, 5)}`);  // 2

// 実践例: 条件付きアロー関数
const getStatus = (score: number): string => 
    score >= 60 ? "合格" : "不合格";

console.log(`85点: ${getStatus(85)}`); // 合格
console.log(`45点: ${getStatus(45)}`); // 不合格
```

---

## 関数の型注釈：引数と戻り値

### 型注釈とは
型注釈は、**引数や戻り値の型を明示的に指定する**機能です。TypeScriptの重要な特徴の一つです。

### 型注釈の基本構文

```typescript
function 関数名(引数1: 型1, 引数2: 型2): 戻り値の型 {
    // 処理
    return 戻り値;
}
```

### 型注釈の利点
1. **型安全性**: 間違った型の値を渡すとエラーになる
2. **IDE支援**: コード補完やエラー検出が向上
3. **可読性**: 関数の仕様が明確になる
4. **保守性**: 変更時の影響範囲が分かりやすい

### 実践例: 型注釈

```typescript
// src/type-annotation.ts
// 引数の型注釈
function greet(name: string): void {
    console.log(`こんにちは、${name}さん！`);
}

greet("太郎"); // OK
// greet(123); // エラー: 数値は文字列に割り当てられない

// 戻り値の型注釈
function add(a: number, b: number): number {
    return a + b;
}

const result: number = add(5, 3); // OK
console.log(`5 + 3 = ${result}`); // 8

// 複数の型を扱う
function processValue(value: string | number): string {
    if (typeof value === "string") {
        return value.toUpperCase();
    } else {
        return value.toString();
    }
}

console.log(processValue("hello")); // HELLO
console.log(processValue(123));    // 123

// 配列の型注釈
function sumArray(numbers: number[]): number {
    let sum = 0;
    for (const num of numbers) {
        sum += num;
    }
    return sum;
}

const scores = [85, 92, 78, 96, 88];
console.log(`合計: ${sumArray(scores)}`); // 439

// オブジェクトの型注釈
interface Person {
    name: string;
    age: number;
}

function greetPerson(person: Person): string {
    return `こんにちは、${person.name}さん（${person.age}歳）！`;
}

const person: Person = { name: "太郎", age: 25 };
console.log(greetPerson(person)); // こんにちは、太郎さん（25歳）！

// 実践例: 複数の戻り値の型（タプル）
function divide(a: number, b: number): [number, number] {
    const quotient = Math.floor(a / b);
    const remainder = a % b;
    return [quotient, remainder];
}

const [q, r] = divide(17, 5);
console.log(`17 ÷ 5 = ${q} 余り ${r}`); // 17 ÷ 5 = 3 余り 2

// 実践例: ジェネリクスを使った型注釈（高度）
function getFirst<T>(items: T[]): T | undefined {
    return items.length > 0 ? items[0] : undefined;
}

const firstNumber = getFirst([1, 2, 3]);
const firstString = getFirst(["a", "b", "c"]);
console.log(`最初の数値: ${firstNumber}`); // 1
console.log(`最初の文字列: ${firstString}`); // a
```

---

## void型：何も返さない関数

### void型とは
void型は、**何も返さない関数の戻り値の型**として使用します。

### void型の基本構文

```typescript
function 関数名(): void {
    // 処理（return文がない、またはreturn;のみ）
}
```

### void型の特徴
- **戻り値がない**: 関数が値を返さないことを明示
- **return文**: return文を書かないか、`return;`のみを書く
- **undefinedとの違い**: void型は戻り値がないことを示す型、undefinedは値

### 実践例: void型

```typescript
// src/void-type.ts
// void型の関数
function sayHello(): void {
    console.log("Hello!");
}

sayHello(); // Hello!

// return文がない関数
function greet(name: string): void {
    console.log(`こんにちは、${name}さん！`);
}

greet("太郎"); // こんにちは、太郎さん！

// return;のみの関数
function logMessage(message: string): void {
    if (!message) {
        return; // 早期リターン
    }
    console.log(message);
}

logMessage("メッセージ1"); // メッセージ1
logMessage("");            // 何も表示されない

// 実践例: 配列を変更する関数（戻り値なし）
function doubleArray(numbers: number[]): void {
    for (let i = 0; i < numbers.length; i++) {
        numbers[i] *= 2;
    }
}

const nums = [1, 2, 3, 4, 5];
doubleArray(nums);
console.log(`2倍後: ${nums}`); // [2, 4, 6, 8, 10]

// 実践例: ログ出力関数
function logError(error: string): void {
    console.error(`エラー: ${error}`);
}

logError("ファイルが見つかりません");

// 実践例: DOM操作（戻り値なし）
function updateElement(id: string, text: string): void {
    const element = document.getElementById(id);
    if (element) {
        element.textContent = text;
    }
}

// 注意: void型の関数の戻り値は使用できない
function getVoid(): void {
    console.log("何も返さない");
}

const result = getVoid();
console.log(result); // undefined（void型の関数はundefinedを返す）
```

---

## 引数にデフォルト値を設定しよう

### デフォルト引数とは
デフォルト引数は、**引数が渡されなかった場合に使用される値**を設定する機能です。

### デフォルト引数の基本構文

```typescript
function 関数名(引数: 型 = デフォルト値): 戻り値の型 {
    // 処理
}
```

### デフォルト引数の特徴
- **省略可能**: 引数を省略できる
- **型推論**: デフォルト値から型を推論できる
- **右側から**: デフォルト引数は右側から順に設定する

### 実践例: デフォルト引数

```typescript
// src/default-arguments.ts
// 基本的なデフォルト引数
function greet(name: string = "ゲスト"): void {
    console.log(`こんにちは、${name}さん！`);
}

greet("太郎");  // こんにちは、太郎さん！
greet();        // こんにちは、ゲストさん！

// 複数のデフォルト引数
function createMessage(
    title: string = "タイトルなし",
    message: string = "メッセージなし"
): string {
    return `${title}: ${message}`;
}

console.log(createMessage("重要", "会議があります")); // 重要: 会議があります
console.log(createMessage("重要"));                  // 重要: メッセージなし
console.log(createMessage());                        // タイトルなし: メッセージなし

// 実践例: 計算関数
function calculate(
    a: number,
    b: number = 0,
    operation: string = "add"
): number {
    switch (operation) {
        case "add":
            return a + b;
        case "subtract":
            return a - b;
        case "multiply":
            return a * b;
        case "divide":
            return a / b;
        default:
            return a;
    }
}

console.log(`10 + 5 = ${calculate(10, 5)}`);           // 15
console.log(`10 + 0 = ${calculate(10)}`);              // 10
console.log(`10 * 3 = ${calculate(10, 3, "multiply")}`); // 30

// 実践例: ログ関数
function log(
    message: string,
    level: string = "info",
    timestamp: boolean = true
): void {
    const time = timestamp ? new Date().toISOString() : "";
    console.log(`[${level}] ${time} ${message}`);
}

log("処理が完了しました");                    // [info] 2024-01-01T00:00:00.000Z 処理が完了しました
log("エラーが発生しました", "error");        // [error] 2024-01-01T00:00:00.000Z エラーが発生しました
log("警告", "warning", false);              // [warning]  警告

// 実践例: 設定オブジェクト
interface Config {
    host?: string;
    port?: number;
    timeout?: number;
}

function connect(config: Config = {}): void {
    const host = config.host ?? "localhost";
    const port = config.port ?? 3000;
    const timeout = config.timeout ?? 5000;
    
    console.log(`接続: ${host}:${port} (タイムアウト: ${timeout}ms)`);
}

connect();                                    // 接続: localhost:3000 (タイムアウト: 5000ms)
connect({ host: "example.com" });            // 接続: example.com:3000 (タイムアウト: 5000ms)
connect({ host: "example.com", port: 8080 }); // 接続: example.com:8080 (タイムアウト: 5000ms)
```

---

## オプション引数

### オプション引数とは
オプション引数は、**引数を省略可能にする**機能です。`?`を使って指定します。

### オプション引数の基本構文

```typescript
function 関数名(引数?: 型): 戻り値の型 {
    // 処理
}
```

### デフォルト引数とオプション引数の違い

| 特徴 | デフォルト引数 | オプション引数 |
|------|--------------|--------------|
| 記法 | `引数: 型 = 値` | `引数?: 型` |
| 値 | デフォルト値がある | undefinedになる可能性がある |
| 使用 | 値が設定される | undefinedチェックが必要 |

### 実践例: オプション引数

```typescript
// src/optional-arguments.ts
// 基本的なオプション引数
function greet(name?: string): void {
    if (name) {
        console.log(`こんにちは、${name}さん！`);
    } else {
        console.log("こんにちは！");
    }
}

greet("太郎"); // こんにちは、太郎さん！
greet();       // こんにちは！

// オプション引数とデフォルト引数の組み合わせ
function createUser(
    name: string,
    age?: number,
    email: string = "未設定"
): void {
    console.log(`名前: ${name}`);
    if (age !== undefined) {
        console.log(`年齢: ${age}歳`);
    }
    console.log(`メール: ${email}`);
}

createUser("太郎");                    // 名前: 太郎, メール: 未設定
createUser("花子", 25);                // 名前: 花子, 年齢: 25歳, メール: 未設定
createUser("次郎", 30, "jiro@example.com"); // 名前: 次郎, 年齢: 30歳, メール: jiro@example.com

// 実践例: 検索関数
function search(
    query: string,
    limit?: number,
    offset?: number
): string[] {
    const results: string[] = [];
    const maxResults = limit ?? 10;
    const start = offset ?? 0;
    
    // 検索処理のシミュレーション
    for (let i = start; i < start + maxResults; i++) {
        results.push(`結果${i + 1}`);
    }
    
    return results;
}

console.log(search("test"));              // 結果1から結果10まで
console.log(search("test", 5));          // 結果1から結果5まで
console.log(search("test", 5, 10));      // 結果11から結果15まで

// 実践例: 設定関数
interface Options {
    timeout?: number;
    retries?: number;
    verbose?: boolean;
}

function process(options?: Options): void {
    const timeout = options?.timeout ?? 5000;
    const retries = options?.retries ?? 3;
    const verbose = options?.verbose ?? false;
    
    console.log(`タイムアウト: ${timeout}ms`);
    console.log(`リトライ回数: ${retries}`);
    console.log(`詳細表示: ${verbose}`);
}

process();                                    // デフォルト値を使用
process({ timeout: 10000 });                  // タイムアウトのみ指定
process({ timeout: 10000, verbose: true });   // タイムアウトと詳細表示を指定
```

---

## コールバック関数

### コールバック関数とは
コールバック関数は、**他の関数に引数として渡される関数**です。

### コールバック関数の基本構文

```typescript
function 関数名(コールバック: (引数: 型) => 戻り値の型): void {
    // 処理
   コールバック(値);
}
```

### コールバック関数の特徴
- **関数を引数として渡す**: 関数を値として扱える
- **柔軟性**: 処理を外部から指定できる
- **非同期処理**: 後で実行される処理を定義できる

### 実践例: コールバック関数

```typescript
// src/callback-function.ts
// 基本的なコールバック関数
function processNumber(num: number, callback: (n: number) => number): number {
    return callback(num);
}

const doubled = processNumber(5, (n: number): number => n * 2);
console.log(`5の2倍: ${doubled}`); // 10

const squared = processNumber(5, (n: number): number => n * n);
console.log(`5の2乗: ${squared}`); // 25

// 実践例: 配列処理のコールバック
function forEach(
    items: number[],
    callback: (item: number, index: number) => void
): void {
    for (let i = 0; i < items.length; i++) {
        callback(items[i], i);
    }
}

const numbers = [1, 2, 3, 4, 5];
forEach(numbers, (item: number, index: number): void => {
    console.log(`[${index}]: ${item}`);
});

// 実践例: フィルター関数
function filter<T>(
    items: T[],
    predicate: (item: T) => boolean
): T[] {
    const result: T[] = [];
    for (const item of items) {
        if (predicate(item)) {
            result.push(item);
        }
    }
    return result;
}

const evens = filter([1, 2, 3, 4, 5], (n: number): boolean => n % 2 === 0);
console.log(`偶数: ${evens}`); // [2, 4]

// 実践例: マップ関数
function map<T, U>(
    items: T[],
    transform: (item: T) => U
): U[] {
    const result: U[] = [];
    for (const item of items) {
        result.push(transform(item));
    }
    return result;
}

const doubled = map([1, 2, 3, 4, 5], (n: number): number => n * 2);
console.log(`2倍: ${doubled}`); // [2, 4, 6, 8, 10]

// 実践例: 非同期処理のシミュレーション
function fetchData(
    url: string,
    onSuccess: (data: string) => void,
    onError: (error: string) => void
): void {
    // 非同期処理のシミュレーション
    setTimeout(() => {
        if (url.startsWith("http")) {
            onSuccess(`データ: ${url}`);
        } else {
            onError(`エラー: 無効なURL`);
        }
    }, 1000);
}

fetchData(
    "http://example.com",
    (data: string): void => {
        console.log(`成功: ${data}`);
    },
    (error: string): void => {
        console.log(`失敗: ${error}`);
    }
);

// 実践例: イベントハンドラー
type EventHandler = (event: string) => void;

function addEventListener(
    eventType: string,
    handler: EventHandler
): void {
    console.log(`イベント "${eventType}" のリスナーを追加`);
    // 実際のイベント発火のシミュレーション
    handler(`${eventType}イベントが発生しました`);
}

addEventListener("click", (event: string): void => {
    console.log(`クリック: ${event}`);
});

addEventListener("submit", (event: string): void => {
    console.log(`送信: ${event}`);
});
```

---

## まとめ

この章では、TypeScriptの関数について学びました。

### 学んだこと
- 関数宣言: functionキーワードで定義
- 関数式: 変数に代入する形で定義
- アロー関数: =>を使って簡潔に書く
- 型注釈: 引数と戻り値の型を明示
- void型: 何も返さない関数
- デフォルト引数: 引数のデフォルト値を設定
- オプション引数: 引数を省略可能にする
- コールバック関数: 関数を引数として渡す

### 重要なポイント
1. **型注釈**: TypeScriptでは型を明示することで、エラーを事前に発見できる
2. **関数の種類**: 関数宣言、関数式、アロー関数を使い分ける
3. **デフォルト引数**: 引数を省略できるようにする
4. **コールバック**: 関数を値として扱える

### 次のステップ
次の章では、データ構造（配列・オブジェクト・タプル）について詳しく学びます。

---

## 演習問題

### 問題1: 関数宣言
2つの数値を受け取り、その合計を返す関数を作成してください。

<details>
<summary>解答例</summary>

```typescript
function add(a: number, b: number): number {
    return a + b;
}

console.log(`5 + 3 = ${add(5, 3)}`); // 8
```
</details>

### 問題2: アロー関数
文字列を受け取り、その長さを返すアロー関数を作成してください。

<details>
<summary>解答例</summary>

```typescript
const getLength = (str: string): number => str.length;

console.log(`"Hello"の長さ: ${getLength("Hello")}`); // 5
```
</details>

### 問題3: デフォルト引数
名前を受け取り、挨拶文を返す関数を作成してください。名前が省略された場合は"ゲスト"を使用してください。

<details>
<summary>解答例</summary>

```typescript
function greet(name: string = "ゲスト"): string {
    return `こんにちは、${name}さん！`;
}

console.log(greet("太郎")); // こんにちは、太郎さん！
console.log(greet());       // こんにちは、ゲストさん！
```
</details>

### 問題4: オプション引数
数値の配列とオプションの倍数を受け取り、各要素を倍数倍した配列を返す関数を作成してください。倍数が省略された場合は2倍にしてください。

<details>
<summary>解答例</summary>

```typescript
function multiplyArray(numbers: number[], multiplier?: number): number[] {
    const mult = multiplier ?? 2;
    return numbers.map((n: number): number => n * mult);
}

console.log(multiplyArray([1, 2, 3]));        // [2, 4, 6]
console.log(multiplyArray([1, 2, 3], 3));     // [3, 6, 9]
```
</details>

### 問題5: コールバック関数
数値の配列とコールバック関数を受け取り、各要素に対してコールバックを実行する関数を作成してください。

<details>
<summary>解答例</summary>

```typescript
function forEach(
    numbers: number[],
    callback: (num: number) => void
): void {
    for (const num of numbers) {
        callback(num);
    }
}

forEach([1, 2, 3], (num: number): void => {
    console.log(num * 2);
});
// 2, 4, 6が表示される
```
</details>

---

お疲れ様でした！次の章に進みましょう。

